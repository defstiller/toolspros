{"version":3,"file":"static/js/536.b7cbfa35.chunk.js","mappings":"6KACA,EAA+B,gCAA/B,EAA4E,8B,2BCA5E,GAAgB,YAAc,iCAAiC,eAAiB,oCAAoC,YAAc,iCAAiC,QAAU,6BAA6B,QAAU,6BAA6B,iBAAmB,sCAAsC,KAAO,0BAA0B,QAAU,6BAA6B,cAAgB,mCAAmC,SAAW,+B,SCqFhb,MA9EA,SAAqBA,GACpB,IAAOC,EAAgBD,EAAhBC,aACP,GAAsCC,EAAAA,EAAAA,UAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA8CF,EAAAA,EAAAA,UAAS,IAAvD,eAAOG,EAAP,KAAwBC,EAAxB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAaC,EAAAA,EAAAA,UACbC,GAAiBD,EAAAA,EAAAA,UAEvB,SAASE,EAAsBC,GACfA,EAAMC,SACPL,EAAWM,QACxBX,EAAeD,EAAc,GAE7BC,EAAeD,EAAc,GAgC/B,SAASa,EAAmBC,GAC3B,IAAMC,EAAOD,EAAQE,GACrBZ,EAASW,GAGV,OAbAE,EAAAA,EAAAA,YAAU,YAhBV,WACCT,EAAeI,QAAQM,UAAW,EAClCZ,EAAWM,QAAQM,UAAW,EAC9B,IACMC,EADkB,IACAnB,EAAc,GAChCoB,EAAgBD,EAFE,GAGrBrB,EAAaqB,EAAiB,KAChCX,EAAeI,QAAQM,UAAW,GAEhCpB,EAAasB,EAAgB,KAC/Bd,EAAWM,QAAQM,UAAW,GAE/B,IAAMG,EAAWvB,EAAawB,MAAMH,EAAgBC,GACpDjB,EAAmBkB,GAInBE,KACE,CAACvB,EAAaF,KAEjBmB,EAAAA,EAAAA,YAAU,WACThB,EAAe,KACb,CAACH,KAQH,iBAAK0B,UAAWC,EAAAA,WAAhB,WACC,iBAAMD,UAAWC,EAAAA,YAAjB,UACC,wBACEvB,GAAmBA,EAAgBwB,KAAI,SAAAZ,GACvC,OACC,eAAqBU,UAAWC,EAAAA,SAAhC,UACC,SAACE,EAAA,EAAD,CACCb,QAASA,EACTD,mBAAoBA,EACpBY,OAAQA,KAJDX,EAAQE,YAWrB,iBAAKQ,UAAWC,EAAAA,eAAhB,WACC,mBAAQG,QAASnB,EAAuBoB,IAAKrB,EAA7C,uBACA,mBAAQoB,QAASnB,EAAuBoB,IAAKvB,EAA7C,yB,SC3BJ,MA3CA,WACC,OAAuCwB,EAAAA,EAAAA,YAAWC,EAAAA,IAA3CC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,QACrB,GADA,EAA8BC,OACJnC,EAAAA,EAAAA,UAAS,KAAnC,eAAOoC,EAAP,KAAcC,EAAd,KACMC,GAAgBC,EAAAA,EAAAA,kBAAiBH,GACvC,GAAwCpC,EAAAA,EAAAA,UAAS,IAAjD,eAAOD,EAAP,KAAqByC,EAArB,KAyBA,OAjBAC,EAAAA,EAAAA,UAAQ,WACP,GAAGH,EAAe,CACjB,IAAII,EAAgB,GACpBT,EAAaN,KAAK,SAAAgB,GACjB,IAAMC,EAAaN,EAAcO,cACpBF,EAAKG,KAAKD,cACfE,SAASH,IAChBF,EAAcM,KAAKL,MAIrBH,EAAgBE,QAEhBF,EAAgBP,KAEf,CAACK,EAAeL,KAGlB,iBAAKR,UAAWwB,EAAhB,WACC,SAACC,EAAA,EAAD,CAAchB,QAASA,KACvB,yDACA,2BACC,kBAAOiB,KAAK,SAASC,YAAY,YAAYC,MAAOjB,EAAOkB,SA5B9D,SAA2B3C,GAC1B,IAAM0C,EAAQ1C,EAAMC,OAAOyC,MAC3BhB,EAASgB,SA4BR,gBAAK5B,UAAWwB,EAAhB,UACC,SAAC,EAAD,CAAalD,aAAcA","sources":["webpack://toolspros/./src/pages/shopPage/products/searchBar.module.css?54e5","webpack://toolspros/./src/pages/shopPage/products/productList/productList.module.css?bfa8","pages/shopPage/products/productList/ProductList.jsx","pages/shopPage/products/SearchBar.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchBarDiv\":\"searchBar_searchBarDiv__otWYk\",\"productDiv\":\"searchBar_productDiv__-KX2Q\"};","// extracted by mini-css-extract-plugin\nexport default {\"productMain\":\"productList_productMain__MlLkC\",\"pageChangeBtns\":\"productList_pageChangeBtns__JVwsg\",\"cardArticle\":\"productList_cardArticle__axyQk\",\"infoDiv\":\"productList_infoDiv__-mYho\",\"cartDiv\":\"productList_cartDiv__hFQun\",\"changeAmountBtns\":\"productList_changeAmountBtns__701kR\",\"link\":\"productList_link__56tjm\",\"cartBtn\":\"productList_cartBtn__Aq3Y3\",\"addToCartMenu\":\"productList_addToCartMenu__hkFuH\",\"listItem\":\"productList_listItem__tKStP\"};","import React, {useState, useEffect, useRef} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport ProductCard from \"../../../../components/productCard/productCardSmall/ProductCard\";\r\n\r\nimport styles from \"./productList.module.css\";\r\n\r\nfunction ProductList(props) {\r\n\tconst {filteredData} = props;\r\n\tconst [currentPage, setCurrentPage] = useState(1);\r\n\tconst [currentProducts, setCurrentProducts] = useState([]);\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst nextButton = useRef();\r\n\tconst previousButton = useRef();\r\n\r\n\tfunction handlePageChangeClick(event) {\r\n\t\tconst target = event.target;\r\n\t\tif(target === nextButton.current) {\r\n\t\t\tsetCurrentPage(currentPage + 1);\r\n\t\t} else {\r\n\t\t\tsetCurrentPage(currentPage - 1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get the first and last index of the current page, then slice the array to get the products for that\r\n\t * page.\r\n\t */\r\n\tfunction productPagination() {\r\n\t\tpreviousButton.current.disabled = true;\r\n\t\tnextButton.current.disabled = true;\r\n\t\tconst productsPerPage = 10;\r\n\t\tconst firstPageIndex = (currentPage - 1) * productsPerPage;\r\n\t\tconst lastPageIndex = firstPageIndex + productsPerPage;\r\n\t\tif(filteredData[firstPageIndex - 1]) {\r\n\t\t\tpreviousButton.current.disabled = false;\r\n\t\t}\r\n\t\tif(filteredData[lastPageIndex + 1]) {\r\n\t\t\tnextButton.current.disabled = false;\r\n\t\t}\r\n\t\tconst newArray = filteredData.slice(firstPageIndex, lastPageIndex); // get {productsPerPage} elements depending on page number, page 1 = item 0 to {startingPoint + productsPerPage}, page 10 = item 50 to {startingPoint + productsPerPage};\r\n\t\tsetCurrentProducts(newArray);\r\n\t}\r\n\r\n\tuseEffect(() =>{\r\n\t\tproductPagination();\r\n\t}, [currentPage, filteredData]);\r\n\r\n\tuseEffect(() =>{ // set page to 1 when new data is received\r\n\t\tsetCurrentPage(1);\r\n\t}, [filteredData]);\r\n\r\n\tfunction handleProductClick(product) { //navigate user on click\r\n\t\tconst path = product.id;\r\n\t\tnavigate(path);\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className={styles.productDiv}>\r\n\t\t\t<main className={styles.productMain}>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{currentProducts && currentProducts.map(product => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={product.id} className={styles.listItem}>\r\n\t\t\t\t\t\t\t\t<ProductCard \r\n\t\t\t\t\t\t\t\t\tproduct={product} \r\n\t\t\t\t\t\t\t\t\thandleProductClick={handleProductClick} \r\n\t\t\t\t\t\t\t\t\tstyles={styles}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</li>);\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t</ul>\r\n\t\t\t</main>\r\n\t\t\t<div className={styles.pageChangeBtns}>\r\n\t\t\t\t<button onClick={handlePageChangeClick} ref={previousButton}>Previous</button>\r\n\t\t\t\t<button onClick={handlePageChangeClick} ref={nextButton}>Next</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nProductList.propTypes = {\r\n\tfilteredData: PropTypes.any\r\n};\r\nexport default ProductList;","import React, {useState, useContext, useDeferredValue, useMemo} from \"react\";\r\n\r\nimport classes from \"./searchBar.module.css\";\r\nimport {ProductDataContext} from \"../../../context/context\";\r\n\r\nimport ProductList from \"./productList/ProductList\";\r\nimport LoadingModal from \"../../../components/modal/loadingModal/LoadingModal\";\r\n\r\nfunction SearchBar() {\r\n\tconst {receivedData, loading, error} = useContext(ProductDataContext);\r\n\tconst [input, setInput] = useState(\"\");\r\n\tconst defferedInput = useDeferredValue(input);\r\n\tconst [filteredData, setFilteredData] = useState([]);\r\n\r\n\tfunction handleInputChange(event) {\r\n\t\tconst value = event.target.value;\r\n\t\tsetInput(value);\r\n\t}\r\n\t\r\n\t/* Filtering the data based on the input. receivedData dependancy is used to update on first render */\r\n\tuseMemo(() => {\r\n\t\tif(defferedInput) {\r\n\t\t\tlet filteredArray = [];\r\n\t\t\treceivedData.map( data => {\r\n\t\t\t\tconst lowerInput = defferedInput.toLowerCase();\r\n\t\t\t\tconst name = data.name.toLowerCase();\r\n\t\t\t\tif(name.includes(lowerInput)){\r\n\t\t\t\t\tfilteredArray.push(data);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t\tsetFilteredData(filteredArray);\r\n\t\t} else {\r\n\t\t\tsetFilteredData(receivedData);\r\n\t\t}\r\n\t}, [defferedInput, receivedData]);\r\n\r\n\treturn(\r\n\t\t<div className={classes.searchBarDiv}>\r\n\t\t\t<LoadingModal loading={loading} />\r\n\t\t\t<h1>Best products on the market</h1>\r\n\t\t\t<form>\r\n\t\t\t\t<input type=\"search\" placeholder=\"Search...\" value={input} onChange={handleInputChange}/>\r\n\t\t\t</form>\r\n\t\t\t<div className={classes.productDiv}>\r\n\t\t\t\t<ProductList filteredData={filteredData}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SearchBar;"],"names":["props","filteredData","useState","currentPage","setCurrentPage","currentProducts","setCurrentProducts","navigate","useNavigate","nextButton","useRef","previousButton","handlePageChangeClick","event","target","current","handleProductClick","product","path","id","useEffect","disabled","firstPageIndex","lastPageIndex","newArray","slice","productPagination","className","styles","map","ProductCard","onClick","ref","useContext","ProductDataContext","receivedData","loading","error","input","setInput","defferedInput","useDeferredValue","setFilteredData","useMemo","filteredArray","data","lowerInput","toLowerCase","name","includes","push","classes","LoadingModal","type","placeholder","value","onChange"],"sourceRoot":""}